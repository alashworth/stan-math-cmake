<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stan Math Library: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="$standoxy.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="stanlogo-main.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a href="https://mc-stan.org/math">Stan Math Library</a>
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">Automatic Differentiation</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Stan Math Library Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <b>Stan Math Library</b> is a C++, reverse-mode automatic differentiation library designed to be usable, extensive and extensible, efficient, scalable, stable, portable, and redistributable in order to facilitate the construction and utilization of algorithms that utilize derivatives.</p>
<p><a href="https://zenodo.org/badge/latestdoi/38388440"></a></p>
<h2>Licensing </h2>
<p>The Stan Math Library is licensed under the https://github.com/stan-dev/math/blob/develop/LICENSE.md "new BSD license".</p>
<p>The Stan Math Library depends on the Intel TBB library which is licensed under the Apache 2.0 license. This dependency implies an additional restriction as compared to the new BSD lincense alone. The Apache 2.0 license is incompatible with GPL-2 licensed code if distributed as a unitary binary. You may refer to the Apache 2.0 evaluation page on the <a href="https://github.com/stan-dev/math/wiki/Apache-2.0-License-Evaluation">Stan Math wiki</a>.</p>
<h2>Required Libraries </h2>
<p>Stan Math depends on four libraries:</p>
<ul>
<li>Boost (version 1.69.0): <a href="http://www.boost.org">Boost Home Page</a></li>
<li><a class="el" href="d0/da5/namespace_eigen.html" title="(Expert) Numerical traits for algorithmic differentiation variables. ">Eigen</a> (version 3.3.3): <a href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen Home Page</a></li>
<li>SUNDIALS (version 4.1.0): <a href="http://computation.llnl.gov/projects/sundials/sundials-software">Sundials Home Page</a></li>
<li>Intel TBB (version 2019_U8): <a href="https://www.threadingbuildingblocks.org">Intel TBB Home Page</a></li>
</ul>
<p>These are distributed under the <code>lib/</code> subdirectory. Only these versions of the dependent libraries have been tested with Stan Math.</p>
<h2>Documentation </h2>
<p>Documentation for Stan math is available at <a href="http://mc-stan.org/math/">mc-stan.org/math</a></p>
<h2>Installation </h2>
<p>The Stan Math Library is a C++ library which depends on the Intel TBB library and requires for some functionality (ordinary differential equations and root solving) on the Sundials library.</p>
<p>A simple hello world program using Stan Math is as follows:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="d4/d78/math_8hpp.html">stan/math.hpp</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main() {</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;log normal(1 | 2, 3)=&quot;</span></div><div class="line">            &lt;&lt; <a class="code" href="d5/db4/group__prob__dists.html#ga4cd21352e848871cf93fc56ab0fccc83">stan::math::normal_log</a>(1, 2, 3)</div><div class="line">            &lt;&lt; std::endl;</div><div class="line">}</div></div><!-- fragment --><p>If this is in the file <code>/path/to/foo/foo.cpp</code>, then you can compile and run this with something like this, with the <code>path/to</code> business replaced with actual paths:</p>
<div class="fragment"><div class="line">&gt; cd /path/to/foo</div><div class="line">&gt; clang++ -std=c++1y -I /path/to/stan-math -I /path/to/Eigen -I /path/to/boost -I /path/to/sundials -I /path/to/tbb -L /path/to/tbb-libs -ltbb -D_REENTRANT  foo.cpp</div><div class="line">&gt; ./a.out</div><div class="line">log normal(1 | 2, 3)=-2.07311</div></div><!-- fragment --><p>The <code>-I</code> includes provide paths pointing to the five necessary includes:</p>
<ul>
<li>Stan Math Library: path to source directory that contains <code>stan</code> as a subdirectory</li>
<li><a class="el" href="d0/da5/namespace_eigen.html" title="(Expert) Numerical traits for algorithmic differentiation variables. ">Eigen</a> C++ Matrix Library: path to source directory that contains <code><a class="el" href="d0/da5/namespace_eigen.html" title="(Expert) Numerical traits for algorithmic differentiation variables. ">Eigen</a></code> as a subdirectory</li>
<li>Boost C++ Library: path to source directory that contains <code>boost</code> as a subdirectory</li>
<li>SUNDIALS: path to source directory that contains <code>cvodes</code> and <code>idas</code> as a subdirectory</li>
<li>Intel TBB: path to source directory that contains <code>tbb</code> as a subdirectory</li>
</ul>
<p>Note that the paths should <em>not</em> include the final directories <code>stan</code>, <code><a class="el" href="d0/da5/namespace_eigen.html" title="(Expert) Numerical traits for algorithmic differentiation variables. ">Eigen</a></code>, or <code>boost</code> on the paths. An example of a real instantiation:</p>
<div class="fragment"><div class="line">clang++ -std=c++1y -I ~/stan-dev/math -I ~/stan-dev/math/lib/eigen_3.3.3/ -I ~/stan-dev/math/lib/boost_1.69.0/ -I ~/stan-dev/math/lib/sundials_4.1.0/include  -I ~/stan-dev/math/lib/tbb_2019_U8/include -L ~/stan-dev/math/lib/tbb -ltbb -Wl,-rpath,&quot;~/stan-dev/math/lib/tbb&quot; -D_REENTRANT foo.cpp</div></div><!-- fragment --><p>The following directories all exist below the links given to <code>-I</code>: <code>~/stan-dev/math/stan</code> and <code>~/stan-dev/math/lib/eigen_3.3.3/Eigen</code> and <code>~/stan-dev/math/lib/boost_1.69.0/boost</code> and <code>~/stan-dev/math/lib/sundials_4.1.0/include</code> and <code>~/stan-dev/math/lib/tbb_2019_U8/include</code>. The <code>~/stan-dev/math/lib/tbb</code> directory is created by the stan-math makefiles automatically when running any unit test (for example with <code>./runTests.py test/unit/math/rev/core/agrad_test.cpp</code>). The <code>-Wl,-rpath,...</code> instruct the linker to hard-code the path to the Intel TBB library inside the stan-math directory into the final binary. This way the Intel TBB is found when executing the program.</p>
<h2>Other Compilers </h2>
<p>There's nothing special about <code>clang++</code> &mdash; the <code>g++</code> compiler behaves the same way. You'll need to modify the commands for other compilers, which will need to be up-to-date enough to compile the Stan Math Library. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->

<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
    <div class="contents" style="font-size:100%;">
      <span style="float:left; margin=0 1em 0 1em;">
      &nbsp;&nbsp;&nbsp;&nbsp;
      [ <a href="http://mc-stan.org/">Stan Home Page</a> ]
      </span>
      <span style="float:right; margin=0 1em 0 1em;">
      <i>&copy; 2011&ndash;2019,
      Stan Development Team.
      &nbsp;&nbsp;&nbsp;&nbsp;
      </i>
      </span>
    </div> </li>
  </ul>
</div>
</body>
</html>
